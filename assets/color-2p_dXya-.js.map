{"version":3,"file":"color-2p_dXya-.js","sources":["../../src/stores/color.ts"],"sourcesContent":["import { ref } from 'vue'\r\nimport { defineStore } from 'pinia'\r\n\r\ninterface Color {\r\n  id: string;\r\n  name: string;\r\n  primary: string;\r\n  secondary: string;\r\n  accent: string;\r\n}\r\n\r\nexport const useColorStore = defineStore('color', () => {\r\n  const colors: Color[] = [\r\n    { id: 'indigo', name: 'Indigo', primary: '#6366f1', secondary: '#818cf8', accent: '#4f46e5' },\r\n    { id: 'blue', name: 'Blue', primary: '#3b82f6', secondary: '#60a5fa', accent: '#2563eb' },\r\n    { id: 'red', name: 'Red', primary: '#ef4444', secondary: '#f87171', accent: '#dc2626' },\r\n    { id: 'green', name: 'Green', primary: '#10b981', secondary: '#34d399', accent: '#059669' },\r\n    { id: 'purple', name: 'Purple', primary: '#8b5cf6', secondary: '#a78bfa', accent: '#7c3aed' },\r\n    { id: 'pink', name: 'Pink', primary: '#ec4899', secondary: '#f472b6', accent: '#db2777' },\r\n    { id: 'yellow', name: 'Yellow', primary: '#f59e0b', secondary: '#fbbf24', accent: '#d97706' },\r\n    { id: 'teal', name: 'Teal', primary: '#14b8a6', secondary: '#2dd4bf', accent: '#0d9488' },\r\n    { id: 'orange', name: 'Orange', primary: '#f97316', secondary: '#fb923c', accent: '#ea580c' },\r\n    { id: 'cyan', name: 'Cyan', primary: '#06b6d4', secondary: '#22d3ee', accent: '#0891b2' },\r\n    { id: 'rainbow', name: 'Rainbow', primary: '#ff0000', secondary: '#ff7f00', accent: '#ffff00' }\r\n  ]\r\n\r\n  const rainbowColors: string[] = [\r\n    '#ff0000',\r\n    '#ff7f00',\r\n    '#ffff00',\r\n    '#00ff00',\r\n    '#0000ff',\r\n    '#4b0082',\r\n    '#9400d3'\r\n  ]\r\n\r\n  const currentColorId = ref<string>(localStorage.getItem('colorTheme') || 'indigo')\r\n  const currentColor = ref<Color>(colors.find(color => color.id === currentColorId.value) || colors[0])\r\n  const rainbowInterval = ref<number | null>(null)\r\n  const rainbowIndex = ref<number>(0)\r\n  const rainbowProgress = ref<number>(0)\r\n\r\n  function setColor(colorId: string): void {\r\n    const color = colors.find(c => c.id === colorId)\r\n    if (color) {\r\n      currentColorId.value = colorId\r\n      currentColor.value = color\r\n      localStorage.setItem('colorTheme', colorId)\r\n      \r\n      if (colorId !== 'rainbow') {\r\n        stopRainbowAnimation()\r\n      } else {\r\n        startRainbowAnimation()\r\n      }\r\n      \r\n      updateCssVariables()\r\n    }\r\n  }\r\n\r\n  function startRainbowAnimation(): void {\r\n    stopRainbowAnimation()\r\n    rainbowIndex.value = 0\r\n    rainbowProgress.value = 0\r\n    \r\n    rainbowInterval.value = window.setInterval(() => {\r\n      rainbowProgress.value += 0.02\r\n      \r\n      if (rainbowProgress.value >= 1) {\r\n        rainbowProgress.value = 0\r\n        rainbowIndex.value = (rainbowIndex.value + 1) % rainbowColors.length\r\n      }\r\n      \r\n      const currentIndex = rainbowIndex.value\r\n      const nextIndex = (currentIndex + 1) % rainbowColors.length\r\n      const thirdIndex = (currentIndex + 2) % rainbowColors.length\r\n      \r\n      const currentRainbowColor = interpolateColor(\r\n        rainbowColors[currentIndex], \r\n        rainbowColors[nextIndex], \r\n        rainbowProgress.value\r\n      )\r\n      const nextRainbowColor = interpolateColor(\r\n        rainbowColors[nextIndex], \r\n        rainbowColors[thirdIndex], \r\n        rainbowProgress.value\r\n      )\r\n      const thirdRainbowColor = interpolateColor(\r\n        rainbowColors[thirdIndex], \r\n        rainbowColors[(thirdIndex + 1) % rainbowColors.length], \r\n        rainbowProgress.value\r\n      )\r\n      \r\n      currentColor.value = {\r\n        ...currentColor.value,\r\n        primary: currentRainbowColor,\r\n        secondary: nextRainbowColor,\r\n        accent: thirdRainbowColor\r\n      }\r\n      \r\n      updateCssVariables()\r\n    }, 50)\r\n  }\r\n\r\n  function interpolateColor(color1: string, color2: string, factor: number): string {\r\n    const r1 = parseInt(color1.slice(1, 3), 16)\r\n    const g1 = parseInt(color1.slice(3, 5), 16)\r\n    const b1 = parseInt(color1.slice(5, 7), 16)\r\n    \r\n    const r2 = parseInt(color2.slice(1, 3), 16)\r\n    const g2 = parseInt(color2.slice(3, 5), 16)\r\n    const b2 = parseInt(color2.slice(5, 7), 16)\r\n    \r\n    const r = Math.round(r1 + (r2 - r1) * factor)\r\n    const g = Math.round(g1 + (g2 - g1) * factor)\r\n    const b = Math.round(b1 + (b2 - b1) * factor)\r\n    \r\n    return `#${r.toString(16).padStart(2, '0')}${g.toString(16).padStart(2, '0')}${b.toString(16).padStart(2, '0')}`\r\n  }\r\n\r\n  function stopRainbowAnimation(): void {\r\n    if (rainbowInterval.value) {\r\n      clearInterval(rainbowInterval.value)\r\n      rainbowInterval.value = null\r\n    }\r\n  }\r\n\r\n  function updateCssVariables(): void {\r\n    const root = document.documentElement\r\n    root.style.setProperty('--color-primary', currentColor.value.primary)\r\n    root.style.setProperty('--color-secondary', currentColor.value.secondary)\r\n    root.style.setProperty('--color-accent', currentColor.value.accent)\r\n  }\r\n\r\n  function initColor(): void {\r\n    updateCssVariables()\r\n    if (currentColorId.value === 'rainbow') {\r\n      startRainbowAnimation()\r\n    }\r\n  }\r\n\r\n  return { \r\n    colors, \r\n    rainbowColors,\r\n    currentColorId, \r\n    currentColor, \r\n    setColor, \r\n    initColor,\r\n    startRainbowAnimation,\r\n    stopRainbowAnimation\r\n  }\r\n}) "],"names":[],"mappings":"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"}